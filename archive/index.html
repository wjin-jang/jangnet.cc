<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index â€“ woojin's blog</title>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
    <header class="site-header">
        <div class="site-title"><a href="/">woojin's blog</a></div>
        <div class="site-subtitle">my creative works</div>
        <nav>
            <a href="/">Home</a>
            <a href="/about/">About Me</a>
            <a href="/archive/" class="active">Index</a>
            <a href="/vinyls/">My Music</a>
        </nav>
    </header>
    <main class="site-main">
        <div class="page-header">
            <h1>Index</h1>
        </div>
        <div class="page-content index-layout">
            <h2>Tags</h2>
            <h2>Posts</h2>
            <div class="index-tags">
                <a class="tag-filter active" data-tag="all">All</a>
                <a class="tag-filter" data-tag="UAL">UAL</a>
                <div class="tag-filter-row"><span class="halftone depth-1"></span><a class="tag-filter" data-tag="Year 0">Year 0</a></div>
                <div class="tag-filter-row"><span class="halftone depth-2"></span><a class="tag-filter" data-tag="FMCC">FMCC</a></div>
                <div class="tag-filter-row"><span class="halftone depth-2"></span><a class="tag-filter" data-tag="ICP">ICP</a></div>
                <a class="tag-filter" data-tag="Personal">Personal</a>
                <div class="tag-filter-row"><span class="halftone depth-1"></span><a class="tag-filter" data-tag="Life">Life</a></div>
                <a class="tag-filter" data-tag="art">art</a>
                <a class="tag-filter" data-tag="coding">coding</a>
                <a class="tag-filter" data-tag="p5">p5</a>
                <a class="tag-filter" data-tag="reflection">reflection</a>
                <a class="tag-filter" data-tag="Uncategorised">Uncategorised</a>
            </div>
            <div class="index-posts"></div>
        </div>
    </main>
    <footer class="site-footer">
        &copy; 2026 woojin jang
    </footer>
    <script>
    (function () {
        var container = document.querySelector('.index-posts');
        var filters = document.querySelectorAll('.tag-filter');
        var active = new Set();

        function update() {
            var isAll = active.size === 0;
            var posts = document.querySelectorAll('.post-entry');
            filters.forEach(function (f) {
                var tag = f.getAttribute('data-tag');
                f.classList.toggle('active', tag === 'all' ? isAll : active.has(tag));
            });
            posts.forEach(function (p) {
                if (isAll) {
                    p.classList.remove('hidden');
                } else {
                    var tags = p.getAttribute('data-tags').split(',');
                    var match = tags.some(function (t) { return active.has(t); });
                    p.classList.toggle('hidden', !match);
                }
            });
            var url = isAll ? '/archive/' : '/archive/?tag=' + Array.from(active).map(encodeURIComponent).join(',');
            history.replaceState(null, '', url);
        }

        filters.forEach(function (f) {
            f.addEventListener('click', function (e) {
                e.preventDefault();
                var tag = f.getAttribute('data-tag');
                if (tag === 'all') {
                    active.clear();
                } else if (active.has(tag)) {
                    active.delete(tag);
                } else {
                    active.add(tag);
                }
                update();
            });
        });

        fetch('/assets/data/posts.json?v=' + Date.now()).then(function (r) { return r.json(); }).then(function (posts) {
            posts.forEach(function (p) {
                var a = document.createElement('a');
                a.className = 'post-entry';
                a.href = '/posts/' + p.slug + '/';
                a.setAttribute('data-tags', p.tags.join(','));
                a.textContent = p.title;
                container.appendChild(a);
            });
            var params = new URLSearchParams(window.location.search);
            var initialTags = params.get('tag');
            if (initialTags) {
                initialTags.split(',').forEach(function (t) { active.add(decodeURIComponent(t)); });
            }
            update();
        });
    })();
    </script>
    <script src="/assets/js/code.js"></script>
</body>
</html>
